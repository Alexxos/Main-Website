<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Constructor & Prototypes</title>
    <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.0.1/build/styles/default.min.css">
    <link rel="stylesheet" href="../../styles/atom-light.css">
    <link rel="stylesheet" href="../../styles/Dom.css">
</head>

<body>
    <h1>Constructor & Prototypes </h1>
    <h3>(Jonas)</h3>
    <pre><code class="hljs javascript">
           
var john = {
    name: 'John',
    yearOfBirth: 1990,
    job: 'teacher' };

// <strong>Function contructor :</strong> 
function Person (name, yearOfBirth,job) {
    this.name = name;
    this.yearOfBirth = yearOfBirth;
    this.job = job; }

//  <strong>adding method to the constructor with the prototype :</strong>
Person.prototype.calculateAge = 
function(){
    console.log (2020 - this.yearOfBirth) }

// [uncommon] <strong>adding property to the prototype :</strong>
Person.prototype.lastName = 'smith';

// The <strong><em>new</em></strong>  operator create a new object :
const James = new Person('James', 1990, 'teacher');
const Jane = new Person ('Jane', 1950, 'retiree');

James.calculateAge();
Jane.calculateAge();
console.log(James.lastName, Jane.lastName) 
//30 70 smith smith

// Is James created by the constructor? 
console.log (James instanceof Person) // True
</code></pre>
    <h3>(Colt)</h3>
    <pre><code>
/String.prototype is a "template object" for every single string.
//We could go crazy and add our own method called yell...
String.prototype.yell = function() {
	return `OMG!!! ${this.toUpperCase()}!!!!! AGHGHGHG!`; };

'bees'.yell(); //"OMG!!! BEES!!!!! AGHGHGHG!"

//We can overwrite an existing Array method like pop (not a good idea):
Array.prototype.pop = function() {
	return 'SORRY I WANT THAT ELEMENT, I WILL NEVER POP IT OFF!'; };
const nums = [ 6, 7, 8, 9 ];
nums.pop(); // "SORRY I WANT THAT ELEMENT, I WILL NEVER POP IT OFF!"

// This is a Constructor Function...
function Color(r, g, b) {
	this.r = r;
	this.g = g;
	this.b = b; }

//If you call it on its own like a regular function...
Color(35, 60, 190); //undefined
//It returns undefined. Seems useless!

// *****************
// THE NEW OPERATOR!
// *****************

// 1. Creates a blank, plain JavaScript object;
// 2. Links (sets the constructor of) this object to another object;
// 3. Passes the newly created object from Step 1 as the this context;
// 4. Returns this if the function doesn't return its own object.

Color.prototype.rgb = function() {
	const { r, g, b } = this;
	return `rgb(${r}, ${g}, ${b})`; };

Color.prototype.hex = function() {
	const { r, g, b } = this;
	return '#' + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1); };

Color.prototype.rgba = function(a = 1.0) {
	const { r, g, b } = this;
	return `rgba(${r}, ${g}, ${b}, ${a})`; };

const color1 = new Color(40, 255, 60);
color1.hex();
const color2 = new Color(0, 0, 0);
color2.hex();
  </code></pre>
    <a href="../../index.html" class="gradient"> Home </a>
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.0.1/build/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
</body>

</html>