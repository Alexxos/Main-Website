<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.0.1/build/styles/default.min.css">
    <link rel="stylesheet" href="style.css">
    <title>React2</title>
</head>

<body>
    <h4>Passing Methods to Child Components</h4>
    <p>The idea: Children arent stateful but can tell parents to change state</p>
    <ul>
        <li>a parent component defines a function</li>
        <li>the function is passed as prop to a child component</li>
        <li>the child component invokes the prop</li>
        <li>the parent function is called, usually setting a new state</li>
        <li>the parent component is re-rendered along with its children</li>
    </ul>

<pre><code>
import React, { Component } from "react";
import BetterNumberItem from "./BetterNumberItem";

class BetterNumberList extends Component {
  constructor(props) {
    super(props);
    this.state = { nums: [1, 2, 3, 4, 5] };
    this.remove = this.remove.bind(this);
  }

remove(num) {
    console.log("REMOVING!");
    console.log(num);
    this.setState(st => ({
      nums: st.nums.filter(n => n !== num)
    }));
  }

  render() {
    // Key must be unique!
    let nums = this.state.nums.map(n => (
      <BetterNumberItem key={n} value={n} remove={this.remove} />
    ));
    return (
      < div>
        < h1>Better Number List</>
        < ul>{nums}</>
      </>);}}

export default BetterNumberList;
</code></pre>

<p>Children component</p>
<pre><code>
import React, { Component } from "react";

class BetterNumberItem extends Component {
  constructor(props) {
    super(props);
    this.handleRemove = this.handleRemove.bind(this);
  }
  handleRemove(evt) {
    console.log("INSIDE HANDLE REMOVE");
    this.props.remove(this.props.value);
  }
  render() {
    return (
      < li>
        {this.props.value}
        < button onClick={this.handleRemove}>X</>
      </li> );}}
export default BetterNumberItem;
</code></pre>
<h4>Where to bind:</h4>
<ul>
    <li>The higher the better</li>
    <li>if you need a parameter, pass it down to the child as a prop, then bind in parent and child</li>
    <li>avoid inline arrow functions / binding if possible</li>
</ul>

<li>Naming conventions parent-action / child-handleAction</li>
<li>Use index while looping to get a key number</li>
<li>use library like shortid / uuid</li>

<h4>Forms</h4>


    <a href="../index.html" class="gradient"> Home </a>
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.0.1/build/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
</body>

</html>